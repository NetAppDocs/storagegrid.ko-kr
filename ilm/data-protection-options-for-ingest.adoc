---
permalink: ilm/data-protection-options-for-ingest.html 
sidebar: sidebar 
keywords: ingest options, balanced ingest, strict ingest, dual-commit ingest 
summary: ILM 규칙을 생성할 때 수집 시 개체를 보호하기 위한 세 가지 옵션 중 하나인 이중 커밋, Strict 또는 균형 을 지정합니다. 
---
= 수집 옵션
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ILM 규칙을 생성할 때 수집 시 개체를 보호하기 위한 세 가지 옵션 중 하나인 이중 커밋, Strict 또는 균형 을 지정합니다.

선택한 사항에 따라 StorageGRID은 임시 복사본을 만들고 나중에 ILM 평가를 위해 오브젝트를 큐에 대기시키거나 동기식 배치를 사용하여 ILM 요구 사항을 충족하도록 즉시 복사본을 만듭니다.



== 수집 옵션의 흐름도

이 순서도는 세 가지 수집 옵션 각각을 사용하는 ILM 규칙에 따라 오브젝트가 일치할 때 발생하는 상황을 보여 줍니다.

image::../media/ingest_object_lifecycle.png[각 수집 옵션에 대해 오브젝트 수집이 수행되는 방법을 보여주는 다이어그램]



== 이중 커밋

Dual Commit 옵션을 선택하면 StorageGRID는 즉시 서로 다른 두 스토리지 노드에 임시 객체 복사본을 만들고 "ingest successful" 메시지를 클라이언트에 반환합니다. 개체는 ILM 평가를 위해 대기하며 규칙의 배치 지침을 충족하는 복사본은 나중에 만들어집니다. 이중 커밋 후 ILM 정책을 즉시 처리할 수 없는 경우 사이트 손실 보호를 달성하는 데 시간이 걸릴 수 있습니다.

다음 두 경우 중 하나에서 이중 커밋 옵션을 사용합니다.

* 멀티 사이트 ILM 규칙을 사용 중이며 클라이언트 수집 지연 시간이 중요하게 고려해야 합니다. 이중 커밋을 사용할 때 ILM을 충족하지 못하는 경우 그리드에서 이중 커밋 복사본을 만들고 제거하는 추가 작업을 수행할 수 있는지 확인해야 합니다. 주요 내용은 다음과 같습니다.
+
** ILM 백로그를 방지할 수 있을 정도로 그리드의 부하가 낮아야 합니다.
** 그리드에는 초과 하드웨어 리소스(IOPS, CPU, 메모리, 네트워크 대역폭 등)가 있어야 합니다.


* 다중 사이트 ILM 규칙을 사용 중이며 사이트 간 WAN 연결에 일반적으로 지연 시간이 길거나 대역폭이 제한되어 있습니다. 이 시나리오에서 이중 커밋 옵션을 사용하면 클라이언트 시간 초과를 방지할 수 있습니다. 이중 커밋 옵션을 선택하기 전에 실제 워크로드로 클라이언트 애플리케이션을 테스트해야 합니다.




== 균형(기본값)

균형 옵션을 선택하면 StorageGRID는 수집 시 동기식 배치를 사용하고 규칙의 배치 지침에 지정된 모든 복사본을 즉시 생성합니다. Strict 옵션과 달리 StorageGRID 에서 즉시 모든 복사본을 만들 수 없는 경우에는 Dual commit 을 대신 사용합니다. ILM 정책이 여러 사이트의 배치를 사용하고 즉각적인 사이트 손실 방지를 달성할 수 없는 경우 * ILM 배치 불가능 * 경고가 트리거됩니다.

균형 옵션을 사용하면 데이터 보호, 그리드 성능 및 수집 성공을 최적으로 조합하여 달성할 수 있습니다. ILM 규칙 만들기 마법사의 기본 옵션은 균형 조정입니다.



== 엄격한

Strict 옵션을 선택하면 StorageGRID에서는 수집 시 동기식 배치를 사용하고 규칙의 배치 지침에 지정된 모든 오브젝트 복사본을 즉시 생성합니다. 필요한 스토리지 위치를 일시적으로 사용할 수 없기 때문에 StorageGRID에서 모든 복사본을 생성할 수 없는 경우 수집에 실패합니다. 클라이언트가 작업을 재시도해야 합니다.

ILM 규칙에 요약된 위치에만 개체를 즉시 저장해야 하는 운영 또는 규정 요구사항이 있는 경우 Strict 옵션을 사용합니다. 예를 들어, 규정 요구 사항을 충족하려면 Strict 옵션 및 Location Constraint 고급 필터를 사용하여 개체가 특정 데이터 센터에 저장되지 않도록 해야 할 수 있습니다.

을 link:example-5-ilm-rules-and-policy-for-strict-ingest-behavior.html["예 5: 엄격한 수집 동작을 위한 ILM 규칙 및 정책"]참조하십시오.
