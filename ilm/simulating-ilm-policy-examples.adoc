---
permalink: ilm/simulating-ilm-policy-examples.html 
sidebar: sidebar 
keywords: simulate ilm policy 
summary: ILM 정책 시뮬레이션의 예는 환경에 맞는 시뮬레이션을 구조화하고 수정하기 위한 지침을 제공합니다. 
---
= ILM 정책 시뮬레이션의 예
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ILM 정책 시뮬레이션의 예는 환경에 맞는 시뮬레이션을 구조화하고 수정하기 위한 지침을 제공합니다.



== 예 1: ILM 정책을 시뮬레이션할 때 규칙을 확인합니다

이 예제에서는 정책을 시뮬레이션할 때 규칙을 확인하는 방법을 설명합니다.

이 예제에서 * 예제 ILM 정책 * 은 두 개의 버킷에 있는 인제스트된 오브젝트에 대해 시뮬레이션되고 있습니다. 이 정책은 다음과 같은 세 가지 규칙을 포함합니다.

* 첫 번째 규칙 * 2개 복사본, 버킷 - A * 의 경우 2년, 버킷 - a의 오브젝트에만 적용됩니다
* 두 번째 규칙인 * EC objects > 1MB * 는 1MB 이상의 객체에서 필터를 제외한 모든 버킷에 적용됩니다.
* 세 번째 규칙 * 두 개의 복사본, 두 개의 데이터 센터 * 가 기본 규칙입니다. 필터는 필터를 포함하지 않으며 비현재 참조 시간을 사용하지 않습니다.


정책을 시뮬레이션한 후 각 개체가 올바른 규칙에 일치하는지 확인합니다.

image::../media/simulate_policy_screen.png[정책 결과 시뮬레이션]

이 예에서

* `bucket-a/bucket-a object.pdf` 에서 개체를 필터링하는 첫 번째 규칙을 올바르게 일치시켰습니다. `bucket-a`
* `bucket-b/test object greater than 1 MB.pdf` 에 `bucket-b` 있으므로 첫 번째 규칙과 일치하지 않습니다. 대신 1MB보다 큰 객체를 필터링하는 두 번째 규칙에 의해 올바르게 일치되었습니다.
* `bucket-b/test object less than 1 MB.pdf` 처음 두 규칙의 필터와 일치하지 않으므로 필터를 포함하지 않는 기본 규칙에 따라 배치됩니다.




== 예 2: ILM 정책을 시뮬레이션할 때 규칙 순서 바꾸기

이 예제에서는 정책을 시뮬레이션할 때 결과를 변경하기 위해 규칙의 순서를 변경하는 방법을 보여 줍니다.

이 예에서는 * Demo * 정책을 시뮬레이션하고 있습니다. 이 정책은 시리즈 = x-men 사용자 메타데이터가 있는 개체를 찾기 위해 다음과 같은 세 가지 규칙을 포함합니다.

* 첫 번째 규칙인 * PNG * 는 로 끝나는 키 이름을 필터링합니다. `.png`
* 두 번째 규칙인 * X-men * 은 테넌트 A의 객체에만 적용되며 사용자 메타데이터의 필터에는 `series=x-men` 적용됩니다.
* 마지막 규칙인 * Two 는 두 데이터 센터 * 를 복사합니다. 이 규칙은 처음 두 규칙과 일치하지 않는 모든 개체와 일치합니다.


.단계
. 규칙을 추가하고 정책을 저장한 후 * Simulate * 를 선택합니다.
. Object * 필드에 테스트 객체의 S3 버킷/오브젝트 키를 입력하고 * Simulate * 를 선택합니다.
+
개체가 * PNG * 규칙에 의해 일치했음을 보여주는 시뮬레이션 결과가 `Havok.png` 나타납니다.

+
image::../media/simulate_reorder_rules_pngs_result.png[예 2: ILM 정책을 시뮬레이션할 때 규칙 순서 바꾸기]

+
그러나 는 `Havok.png` * X-Men * 규칙을 테스트하기 위한 것입니다.

. 문제를 해결하려면 규칙을 다시 정렬하십시오.
+
.. ILM 정책 시뮬레이션 창을 닫으려면 * 마침 * 을 선택합니다.
.. 정책을 편집하려면 * 편집 * 을 선택합니다.
.. X-MEN * 규칙을 목록의 맨 위로 끕니다.
.. 저장 * 을 선택합니다.


. 시뮬레이션 * 을 선택합니다.
+
이전에 테스트한 객체는 업데이트된 정책에 대해 재평가되고 새 시뮬레이션 결과가 표시됩니다. 이 예에서 규칙 일치 열은 개체가 이제 예상대로 X-Men 메타데이터 규칙과 일치함을 보여 줍니다 `Havok.png`. 이전 일치 열은 PNG 규칙이 이전 시뮬레이션에서 개체와 일치했음을 나타냅니다.

+
image::../media/simulate_reorder_rules_correct_result.png[예 2: ILM 정책을 시뮬레이션할 때 규칙 순서 바꾸기]





== 예 3: ILM 정책을 시뮬레이션할 때 규칙을 수정합니다

이 예제에서는 정책을 시뮬레이션하고 정책의 규칙을 정정하고 시뮬레이션을 계속하는 방법을 보여 줍니다.

이 예에서는 * Demo * 정책을 시뮬레이션하고 있습니다. 이 정책은 사용자 메타데이터가 있는 개체를 찾기 `series=x-men` 위한 것입니다. 그러나 개체에 대해 이 정책을 시뮬레이션하는 동안 예기치 않은 결과가 `Beast.jpg` 발생했습니다. 이 개체는 X-Men 메타데이터 규칙을 일치시키는 대신 기본 규칙과 일치하며 두 개의 데이터 센터를 복제합니다.

image::../media/simulate_results_for_object_wrong_metadata.png[예 3: ILM 정책을 시뮬레이션할 때 규칙 수정]

테스트 객체가 정책의 예상 규칙과 일치하지 않으면 정책의 각 규칙을 검사하고 오류를 수정해야 합니다.

.단계
. Finish * 를 선택하여 Simulate policy 대화상자를 닫습니다. 정책의 세부 정보 페이지에서 * 보존 다이어그램 * 을 선택합니다. 그런 다음 필요에 따라 각 규칙에 대해 * Expand All * 또는 * View details * 를 선택합니다.
. 규칙의 테넌트 계정, 참조 시간 및 필터링 기준을 검토합니다.
+
예를 들어, X-men 규칙의 메타데이터가 "x-men" 대신 "x-men01"으로 입력되었다고 가정합니다.

. 오류를 해결하려면 다음과 같이 규칙을 수정하십시오.
+
** 규칙이 정책의 일부인 경우 규칙을 클론 복제하거나 정책에서 규칙을 제거한 다음 편집할 수 있습니다.
** 규칙이 활성 정책의 일부인 경우 규칙을 복제해야 합니다. 활성 정책에서 규칙을 편집하거나 제거할 수 없습니다.


. 시뮬레이션을 다시 수행합니다.
+
이 예에서 수정된 X-men 규칙은 이제 사용자 메타데이터를 기반으로 개체를 `series=x-men` 예상한 대로 일치시킵니다. `Beast.jpg`

+
image::../media/simulate_results_for_object_corrected_metadata.png[예 3: ILM 정책을 시뮬레이션할 때 규칙 수정]


