---
permalink: ilm/ilm-policy-overview.html 
sidebar: sidebar 
keywords: ILM policy, information lifecycle policy considerations 
summary: 'ILM(정보 수명 주기 관리) 정책은 StorageGRID 시스템이 시간에 따라 개체 데이터를 관리하는 방법을 결정하는 ILM 규칙 집합의 순서가 지정된 집합입니다.' 
---
= ILM 정책 사용
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ILM(정보 수명 주기 관리) 정책은 StorageGRID 시스템이 시간 경과에 따라 오브젝트 데이터를 관리하는 방법을 결정하는 일련의 정렬된 ILM 규칙 세트입니다.


CAUTION: 잘못 구성된 ILM 정책으로 인해 복구할 수 없는 데이터 손실이 발생할 수 있습니다. ILM 정책을 활성화하기 전에 ILM 정책 및 ILM 규칙을 주의 깊게 검토한 다음 ILM 정책을 시뮬레이션합니다. ILM 정책이 의도한 대로 작동할 것인지 항상 확인하십시오.



== 기본 ILM 정책

StorageGRID를 설치하고 사이트를 추가하면 다음과 같은 기본 ILM 정책이 자동으로 생성됩니다.

* 눈금에 사이트가 한 개 포함된 경우 기본 정책에는 해당 사이트에서 각 개체의 복사본을 두 개 복제하는 기본 규칙이 포함됩니다.
* 그리드에 사이트가 두 개 이상 포함된 경우 기본 규칙은 각 사이트에 있는 각 개체의 복사본을 하나씩 복제합니다.


기본 정책이 스토리지 요구 사항을 충족하지 않는 경우 고유한 규칙 및 정책을 생성할 수 있습니다. link:what-ilm-rule-is.html["ILM 규칙을 생성합니다"]및 을 link:creating-ilm-policy.html["ILM 정책을 생성합니다"]참조하십시오.



== 활성 ILM 정책이 하나 이상 있습니까?

한 번에 하나 이상의 활성 ILM 정책을 가질 수 있습니다.



=== 하나의 정책

그리드에서 몇 가지 테넌트별 및 버킷별 규칙이 포함된 간단한 데이터 보호 체계를 사용할 경우 활성 ILM 정책을 하나 사용합니다. ILM 규칙에는 다양한 버킷 또는 테넌트를 관리하기 위한 필터가 포함될 수 있습니다.

image::../media/ilm-policies-single.png[단일 ILM 정책 다이어그램]

하나의 정책만 있고 테넌트의 요구 사항이 변경된 경우 새 ILM 정책을 생성하거나 기존 정책을 복제하여 변경 사항을 적용하고 시뮬레이션한 다음 새 ILM 정책을 활성화해야 합니다. ILM 정책을 변경하면 오브젝트 이동이 수행되어 며칠이 소요되고 시스템 지연 시간이 발생할 수 있습니다.



=== 다수의 정책

테넌트에 다양한 서비스 품질 옵션을 제공하기 위해 한 번에 두 개 이상의 활성 정책을 사용할 수 있습니다. 각 정책은 특정 테넌트, S3 버킷 및 오브젝트를 관리할 수 있습니다. 특정 테넌트 또는 오브젝트 세트에 대해 하나의 정책을 적용하거나 변경해도 다른 테넌트 및 오브젝트에 적용되는 정책은 영향을 받지 않습니다.

ILM 정책 태그:: 테넌트가 버킷별로 여러 데이터 보호 정책 간에 쉽게 전환할 수 있도록 하려면 _ ILM 정책 태그 _ 를 사용하여 여러 ILM 정책을 사용하십시오. 각 ILM 정책을 태그에 할당한 다음 테넌트는 버킷에 태그를 지정하여 해당 버킷에 정책을 적용합니다. S3 버킷에만 ILM 정책 태그를 설정할 수 있습니다.
+
--
예를 들어 골드, 실버, 브론즈라는 세 개의 태그가 있을 수 있습니다. 정책이 오브젝트를 저장하는 위치와 기간에 따라 각 태그에 ILM 정책을 할당할 수 있습니다. 테넌트는 버킷에 태그를 지정하여 사용할 정책을 선택할 수 있습니다. Bucket Tagged Gold는 Gold 정책에 의해 관리되며 Gold 레벨의 데이터 보호 및 성능을 받습니다.

--
기본 ILM 정책 태그입니다:: 기본 ILM 정책 태그는 StorageGRID를 설치할 때 자동으로 생성됩니다. 모든 그리드에는 Default 태그에 할당된 활성 정책이 하나 있어야 합니다. 기본 정책은 태그가 지정되지 않은 모든 S3 버킷에 적용됩니다.


image::../media/ilm-policies-tags-conceptual.png[여러 ILM 정책 다이어그램]



== ILM 정책은 개체를 어떻게 평가합니까?

활성 ILM 정책은 오브젝트의 배치, 기간 및 데이터 보호를 제어합니다.

클라이언트가 StorageGRID에 개체를 저장하면 다음과 같이 정책의 순서가 지정된 ILM 규칙 집합을 기준으로 개체가 평가됩니다.

. 정책의 첫 번째 규칙에 대한 필터가 개체와 일치하면 해당 규칙의 수집 동작에 따라 개체가 수집되고 해당 규칙의 배치 지침에 따라 저장됩니다.
. 첫 번째 규칙의 필터가 개체와 일치하지 않으면 일치가 이루어질 때까지 해당 개체가 정책의 다음 각 규칙에 대해 평가됩니다.
. 개체와 일치하는 규칙이 없으면 정책의 기본 규칙에 대한 수집 동작 및 배치 지침이 적용됩니다. 기본 규칙은 정책의 마지막 규칙입니다. 기본 규칙은 모든 테넌트, 모든 S3 버킷 및 모든 오브젝트 버전에 적용되어야 하며 고급 필터를 사용할 수 없습니다.




== ILM 정책의 예

예를 들어 ILM 정책에 다음을 지정하는 세 가지 ILM 규칙이 포함될 수 있습니다.

* * 규칙 1: 테넌트 A * 에 대해 복제된 복사본
+
** 테넌트 A에 속하는 모든 객체를 일치시킵니다
** 이러한 객체를 3개의 사이트에 3개의 복제된 복제본으로 저장합니다.
** 다른 테넌트에 속한 개체는 규칙 1에 의해 일치하지 않으므로 규칙 2에 대해 평가됩니다.


* * 규칙 2: 1MB * 이상의 개체에 대한 삭제 코딩
+
** 다른 테넌트의 모든 객체를 일치하지만 1MB 이상인 경우에만 일치시킵니다. 이러한 큰 오브젝트는 3개의 사이트에서 6+3 삭제 코딩을 사용하여 저장됩니다.
** 이(가) 1MB 이하의 객체와 일치하지 않으므로 이러한 오브젝트는 규칙 3에 대해 평가됩니다.


* * 규칙 3:2개 데이터 센터 2개 복사 * (기본값)
+
** 정책의 마지막 기본 규칙입니다. 필터를 사용하지 않습니다.
** 규칙 1 또는 규칙 2(1MB 이하의 테넌트 A에 속하지 않는 객체)에 의해 일치하지 않는 모든 객체의 복제된 복제본을 두 개 만듭니다.




image::../media/ilm_policy_and_rules.png[ILM 정책 및 규칙]



== 활성 및 비활성 정책이란 무엇입니까?

모든 StorageGRID 시스템에는 하나 이상의 활성 ILM 정책이 있어야 합니다. 두 개 이상의 활성 ILM 정책을 사용하려면 ILM 정책 태그를 생성하고 각 태그에 정책을 할당합니다. 그런 다음 테넌트는 S3 버킷에 태그를 적용합니다. 기본 정책은 정책 태그가 할당되지 않은 버킷의 모든 개체에 적용됩니다.

ILM 정책을 처음 생성할 때 하나 이상의 ILM 규칙을 선택하고 특정 순서로 정렬합니다. 정책을 시뮬레이션하여 동작을 확인한 후 활성화합니다.

하나의 ILM 정책을 활성화하면 StorageGRID은 해당 정책을 사용하여 기존 오브젝트와 새로 수집된 오브젝트를 포함한 모든 오브젝트를 관리합니다. 새 정책의 ILM 규칙을 구현할 때 기존 개체를 새 위치로 이동할 수 있습니다.

한 번에 둘 이상의 ILM 정책을 활성화하고 테넌트가 S3 버킷에 정책 태그를 적용하는 경우 각 버킷의 오브젝트는 태그에 할당된 정책에 따라 관리됩니다.

StorageGRID 시스템은 활성화 또는 비활성화된 정책 기록을 추적합니다.



== ILM 정책을 생성할 때의 고려 사항

* 테스트 시스템에서는 시스템에서 제공한 정책, 베이스라인 2 복사본 정책만 사용하십시오. StorageGRID 11.6 이전 버전의 경우 이 정책의 2개 복사본 만들기 규칙은 모든 사이트가 포함된 모든 스토리지 노드 스토리지 풀을 사용합니다. StorageGRID 시스템에 사이트가 두 개 이상 있는 경우 한 개체의 복사본을 같은 사이트에 둘 수 있습니다.
+

NOTE: 모든 스토리지 노드 스토리지 풀은 StorageGRID 11.6 이하를 설치하는 동안 자동으로 생성됩니다. 최신 버전의 StorageGRID로 업그레이드하는 경우 모든 스토리지 노드 풀이 여전히 존재합니다. StorageGRID 11.7 이상을 새로 설치하는 경우 모든 스토리지 노드 풀이 생성되지 않습니다.

* 새 정책을 설계할 때는 그리드에 인제스트될 수 있는 다양한 유형의 모든 객체를 고려하십시오. 정책에 이러한 개체를 일치시키고 필요한 경우 배치할 규칙이 포함되어 있는지 확인합니다.
* ILM 정책을 최대한 단순하게 유지하십시오. 이렇게 하면 시간이 지남에 따라 StorageGRID 시스템을 변경할 때 의도된 대로 오브젝트 데이터가 보호되지 않는 잠재적으로 위험한 상황을 방지할 수 있습니다.
* 정책의 규칙이 올바른 순서로 되어 있는지 확인합니다. 정책이 활성화되면 위에서 시작하여 나열된 순서대로 새 개체와 기존 개체가 평가됩니다. 예를 들어 정책의 첫 번째 규칙이 개체와 일치하면 해당 개체는 다른 규칙에 의해 평가되지 않습니다.
* 모든 ILM 정책의 마지막 규칙은 필터를 사용할 수 없는 기본 ILM 규칙입니다. 개체가 다른 규칙과 일치하지 않으면 기본 규칙은 개체가 배치된 위치와 유지되는 기간을 제어합니다.
* 새 정책을 활성화하기 전에 정책이 기존 개체의 배치에 대해 적용하는 모든 변경 사항을 검토하십시오. 기존 오브젝트의 위치를 변경하면 새로운 배치가 평가되고 구현될 때 일시적인 리소스 문제가 발생할 수 있습니다.

