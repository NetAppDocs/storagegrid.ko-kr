= 어떤 절차를 사용해야 합니까?
:allow-uri-read: 




== 어떤 절차를 사용해야 합니까?

가능한 경우 그리드 관리자의 * 볼륨 복원 * 페이지를 사용하여 개체 데이터를 복원합니다.

* 볼륨이 * 유지 관리 * > * 볼륨 복원 * > * 에 나열되어 있는 경우 * 복원할 노드 * 는 를 사용하여 오브젝트 데이터를 복원합니다.link:../maintain/restoring-volume.html["Grid Manager의 볼륨 복원 페이지"]
* 볼륨이 * 유지 관리 * > * 볼륨 복원 * > * 복원할 노드 * 에 표시되지 않으면 스크립트를 사용하여 오브젝트 데이터를 복원하는 다음 단계를 따르십시오. `repair-data`
+
복구된 스토리지 노드에 교체 중인 노드보다 적은 수의 볼륨이 포함된 경우 스크립트를 사용해야 `repair-data` 합니다.




NOTE: repair-data 스크립트는 더 이상 사용되지 않으며 향후 릴리즈에서 제거될 예정입니다. 가능하면 를 사용합니다link:../maintain/restoring-volume.html["Grid Manager(그리드 관리자)의 볼륨 복원 절차"].



== 스크립트를 사용하여 `repair-data` 객체 데이터를 복원합니다

.시작하기 전에
* 복구된 스토리지 노드의 그리드 관리자의 * nodes * > * Overview * 탭에서 연결 상태가 * Connected * 인 것을 image:../media/icon_alert_green_checkmark.png["아이콘 경고 녹색 확인 표시"]확인했습니다.


.이 작업에 대해
개체 복사본을 사용할 수 있도록 그리드의 ILM 규칙이 구성되어 있다고 가정하면 다른 스토리지 노드 또는 클라우드 스토리지 풀에서 오브젝트 데이터를 복원할 수 있습니다.

다음 사항에 유의하십시오.

* ILM 규칙이 한 개의 복제된 복사본만 저장하도록 구성되었고 해당 복사본이 실패한 스토리지 볼륨에 존재하면 개체를 복구할 수 없습니다.
* 개체의 나머지 복사본만 클라우드 스토리지 풀에 있는 경우 StorageGRID은 오브젝트 데이터를 복원하기 위해 클라우드 스토리지 풀 엔드포인트에 여러 요청을 실행해야 합니다. 이 절차를 수행하기 전에 기술 지원 부서에 문의하여 복구 시간 프레임 및 관련 비용을 추정하십시오.




== 스크립트 정보를 참조하십시오 `repair-data`

객체 데이터를 복원하려면 `repair-data` 스크립트를 실행합니다. 이 스크립트는 개체 데이터 복원 프로세스를 시작하고 ILM 스캔 작업을 통해 ILM 규칙이 충족되는지 확인합니다.

아래의 * 복제 데이터 * 또는 * 삭제 코딩(EC) 데이터 * 를 선택하여 복제된 데이터를 복원하는지 또는 삭제 코딩 데이터를 복원하는지 여부에 따라 스크립트에 대한 다양한 옵션을 `repair-data` 확인하십시오. 두 유형의 데이터를 모두 복원해야 하는 경우 두 명령 집합을 모두 실행해야 합니다.


NOTE: 스크립트에 대한 자세한 내용을 `repair-data` 보려면 기본 관리자 노드의 명령줄에서 를 `repair-data --help` 입력합니다.


NOTE: repair-data 스크립트는 더 이상 사용되지 않으며 향후 릴리즈에서 제거될 예정입니다. 가능하면 를 사용합니다link:../maintain/restoring-volume.html["Grid Manager(그리드 관리자)의 볼륨 복원 절차"].

[role="tabbed-block"]
====
.복제된 데이터
--
전체 노드를 복구해야 하는지 또는 노드의 특정 볼륨만 복구해야 하는지 여부에 따라 두 가지 명령을 사용하여 복제된 데이터를 복원할 수 있습니다.

`repair-data start-replicated-node-repair`

`repair-data start-replicated-volume-repair`

다음 명령을 사용하여 복제된 데이터의 복구를 추적할 수 있습니다.

`repair-data show-replicated-repair-status`

--
.삭제 코딩(EC) 데이터
--
전체 노드를 복구해야 하는지 또는 노드의 특정 볼륨만 복구해야 하는지 여부에 따라 두 가지 명령을 사용하여 삭제 코딩 데이터를 복원할 수 있습니다.

`repair-data start-ec-node-repair`

`repair-data start-ec-volume-repair`

다음 명령을 사용하여 삭제 코딩 데이터의 복구를 추적할 수 있습니다.

`repair-data show-ec-repair-status`


NOTE: 일부 스토리지 노드가 오프라인인 상태에서 삭제 코딩 데이터 복구를 시작할 수 있습니다. 하지만 삭제 코딩 데이터를 모두 처리할 수 없는 경우 복구를 완료할 수 없습니다. 모든 노드를 사용할 수 있게 되면 복구가 완료됩니다.


NOTE: EC 복구 작업은 일시적으로 많은 양의 저장 공간을 예약합니다. 스토리지 알림이 트리거될 수 있지만 복구가 완료되면 문제가 해결됩니다. 예약 저장 공간이 충분하지 않으면 EC 복구 작업이 실패합니다. 작업 실패 또는 성공 여부에 관계없이 EC 복구 작업이 완료되면 저장소 예약이 해제됩니다.

--
====