---
permalink: maintain/changing-ip-addresses-and-mtu-values-for-all-nodes-in-grid.html 
sidebar: sidebar 
keywords: storagegrid, node ip address, change node ip, change node ip address, changing node ip, changing node ip address 
summary: 그리드의 모든 노드에 대해 그리드 네트워크 IP 주소를 변경해야 하는 경우 이 특수 절차를 따라야 합니다. 개별 노드를 변경하는 절차를 사용하여 그리드 전체 그리드 네트워크 IP를 변경할 수는 없습니다. 
---
= 그리드의 모든 노드에 대한 IP 주소를 변경합니다
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
그리드의 모든 노드에 대해 그리드 네트워크 IP 주소를 변경해야 하는 경우 이 특수 절차를 따라야 합니다. 개별 노드를 변경하는 절차를 사용하면 그리드 전체의 그리드 네트워크 IP를 변경할 수 없습니다.

.시작하기 전에
*  `Passwords.txt`파일이 있습니다.


그리드가 성공적으로 시작되도록 하려면 모든 변경 사항을 동시에 수행해야 합니다.


NOTE: 이 절차는 그리드 네트워크에만 적용됩니다. 이 절차를 사용하여 관리 또는 클라이언트 네트워크의 IP 주소를 변경할 수 없습니다.

한 사이트에서만 노드의 IP 주소와 MTU를 변경하려면 link:changing-nodes-network-configuration.html["노드 네트워크 구성을 변경합니다"]지침을 따릅니다.

.단계
. DNS 또는 NTP 변경 등 Change IP 도구 외부에서 변경해야 하는 변경 사항과 SSO(Single Sign-On) 구성 변경(사용되는 경우)을 미리 계획하십시오.
+

NOTE: 새 IP 주소의 그리드에서 기존 NTP 서버에 액세스할 수 없는 경우 IP 변경 절차를 수행하기 전에 새 NTP 서버를 추가합니다.

+

NOTE: 새 IP 주소의 그리드에서 기존 DNS 서버에 액세스할 수 없는 경우 IP 변경 절차를 수행하기 전에 새 DNS 서버를 추가합니다.

+

NOTE: StorageGRID 시스템에 SSO가 설정되어 있고 모든 기반 당사자 트러스트가 관리자 노드 IP 주소(권장되는 경우 정규화된 도메인 이름 대신)를 사용하여 구성된 경우 AD FS(Active Directory Federation Services)에서 이러한 기반 당사자 트러스트를 업데이트하거나 재구성할 준비를 해야 합니다. IP 주소를 변경한 직후 을 link:../admin/configuring-sso.html["Single Sign-On 구성"]참조하십시오.

+

NOTE: 필요한 경우 새 IP 주소에 대한 새 서브넷을 추가합니다.

. 기본 관리자 노드에 로그인합니다.
+
.. 다음 명령을 입력합니다. `ssh admin@_primary_Admin_Node_IP_`
.. 파일에 나열된 암호를 `Passwords.txt` 입력합니다.
.. 다음 명령을 입력하여 루트로 전환합니다. `su -`
.. 파일에 나열된 암호를 `Passwords.txt` 입력합니다.


+
루트로 로그인하면 프롬프트가 에서 `$` 로 `#`변경됩니다.

. 다음 명령을 입력하여 IP 변경 도구를 시작합니다. `change-ip`
. 프롬프트에 프로비저닝 암호를 입력합니다.
+
기본 메뉴가 나타납니다. 기본적으로 `Selected nodes` 이 필드는 로 설정되어 `all` 있습니다.

+
image::../media/change_ip_tool_main_menu.png[IP 변경 도구의 시작 화면을 보여 주는 스크린샷]

. 주 메뉴에서 * 2 * 를 선택하여 모든 노드에 대한 IP/서브넷 마스크, 게이트웨이 및 MTU 정보를 편집합니다.
+
.. 그리드 네트워크를 변경하려면 * 1 * 을 선택합니다.
+
선택한 후 프롬프트에 노드 이름, 그리드 네트워크 이름, 데이터 유형(IP/마스크, 게이트웨이 또는 MTU), 및 현재 값.

+
DHCP 구성 인터페이스의 IP 주소, 접두사 길이, 게이트웨이 또는 MTU를 편집하면 인터페이스가 정적 인터페이스로 변경됩니다. DHCP로 구성된 각 인터페이스 앞에 경고가 표시됩니다.

+
로 구성된 인터페이스는 `fixed` 편집할 수 없습니다.

.. 새 값을 설정하려면 현재 값에 대해 표시된 형식으로 입력합니다.
.. 변경할 모든 노드를 편집한 후 * q * 를 입력하여 기본 메뉴로 돌아갑니다.
+
변경 내용은 지워지거나 적용될 때까지 유지됩니다.



. 다음 옵션 중 하나를 선택하여 변경 사항을 검토합니다.
+
** * 5 *: 변경된 항목만 표시하도록 격리된 출력의 편집 내용을 표시합니다. 변경 사항은 예제 출력에 표시된 대로 녹색(추가) 또는 빨간색(삭제)으로 강조 표시됩니다.
+
image::../media/change_ip_tool_edit_ip_mask_sample_output.png[주변 텍스트로 설명된 스크린샷]

** * 6 *: 전체 구성을 표시하는 출력의 편집 내용을 표시합니다. 변경 사항은 녹색(추가) 또는 빨간색(삭제)으로 강조 표시됩니다.
+

NOTE: 특정 명령줄 인터페이스에서는 취소선 서식을 사용하여 추가 및 삭제를 표시할 수 있습니다. 올바른 표시는 필요한 VT100 이스케이프 시퀀스를 지원하는 터미널 클라이언트에 따라 다릅니다.



. 옵션 * 7 * 을 선택하여 모든 변경 사항을 확인합니다.
+
이 유효성 검사를 통해 그리드 네트워크에 대한 규칙이 겹친 서브넷을 사용하지 않는 등의 규칙을 위반하지 않도록 할 수 있습니다.

+
이 예제에서는 유효성 검사에서 오류가 반환되었습니다.

+
image::../media/change_ip_tool_validate_sample_error_messages.gif[주변 텍스트로 설명된 스크린샷]

+
이 예제에서는 유효성 검사가 통과되었습니다.

+
image::../media/change_ip_tool_validate_sample_passed_messages.gif[주변 텍스트로 설명된 스크린샷]

. 유효성 검사에 통과한 후 * 10 * 을 선택하여 새 네트워크 구성을 적용합니다.
. 다음에 노드를 다시 시작할 때 변경 사항을 적용하려면 * stage * 를 선택합니다.
+

NOTE: 스테이지 * 를 선택해야 합니다. 수동으로 또는 * stage * 대신 * apply * 를 선택하여 롤링 재시작을 수행하지 마십시오. 그리드가 성공적으로 시작되지 않습니다.

. 변경이 완료되면 * 0 * 을 선택하여 IP 변경 도구를 종료합니다.
. 모든 노드를 동시에 종료합니다.
+

NOTE: 모든 노드가 동시에 종료되도록 전체 그리드를 종료해야 합니다.

. 필요한 물리적 또는 가상 네트워킹을 변경합니다.
. 모든 그리드 노드가 다운되었는지 확인합니다.
. 모든 노드의 전원을 켭니다.
. 그리드가 성공적으로 시작된 후:
+
.. 새 NTP 서버를 추가한 경우 이전 NTP 서버 값을 삭제합니다.
.. 새 DNS 서버를 추가한 경우 이전 DNS 서버 값을 삭제합니다.


. Grid Manager에서 새 복구 패키지를 다운로드합니다.
+
.. 유지보수 * > * 시스템 * > * 복구 패키지 * 를 선택합니다.
.. 프로비저닝 암호를 입력합니다.




.관련 정보
* link:adding-to-or-changing-subnet-lists-on-grid-network.html["그리드 네트워크에서 서브넷 목록을 추가하거나 변경합니다"]
* link:shutting-down-grid-node.html["그리드 노드를 종료합니다"]

