---
permalink: maintain/changing-nodes-network-configuration.html 
sidebar: sidebar 
keywords: storagegrid, network configuration, node network configuration 
summary: 'Change IP(IP 변경) 도구를 사용하여 하나 이상의 노드의 네트워크 구성을 변경할 수 있습니다. 그리드 네트워크의 구성을 변경하거나 관리자 또는 클라이언트 네트워크를 추가, 변경 또는 제거할 수 있습니다.' 
---
= 노드 네트워크 구성을 변경합니다
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Change IP(IP 변경) 도구를 사용하여 하나 이상의 노드의 네트워크 구성을 변경할 수 있습니다. 그리드 네트워크의 구성을 변경하거나 관리자 또는 클라이언트 네트워크를 추가, 변경 또는 제거할 수 있습니다.

.시작하기 전에
 `Passwords.txt`파일이 있습니다.

.이 작업에 대해
* Linux: * 그리드 노드를 관리 네트워크 또는 클라이언트 네트워크에 처음으로 추가하는 경우, 노드 구성 파일에서 admin_network_target 또는 client_network_target을 이전에 구성하지 않은 경우에는 지금 구성해야 합니다.

Linux 운영 체제에 대한 StorageGRID 설치 지침을 참조하십시오.

* link:../rhel/index.html["Red Hat Enterprise Linux에 StorageGRID를 설치합니다"]
* link:../ubuntu/index.html["Ubuntu 또는 Debian에 StorageGRID를 설치합니다"]


* 어플라이언스: * StorageGRID 어플라이언스의 경우 초기 설치 중에 StorageGRID 어플라이언스 설치 프로그램에 클라이언트 또는 관리자 네트워크가 구성되어 있지 않으면 IP 변경 도구만 사용하여 네트워크를 추가할 수 없습니다. 먼저 링크를 구성하고 어플라이언스를 정상 작동 모드로 되돌린 다음 IP 변경 도구를 사용하여 네트워크 구성을 수정해야 https://docs.netapp.com/us-en/storagegrid-appliances/commonhardware/placing-appliance-into-maintenance-mode.html["제품을 유지보수 모드로 두십시오"^] 합니다. 를 https://docs.netapp.com/us-en/storagegrid-appliances/installconfig/configuring-network-links.html["네트워크 링크 구성 절차"^]참조하십시오.

네트워크에서 하나 이상의 노드에 대한 IP 주소, 서브넷 마스크, 게이트웨이 또는 MTU 값을 변경할 수 있습니다.

클라이언트 네트워크 또는 관리 네트워크에서 노드를 추가하거나 제거할 수도 있습니다.

* 노드에 해당 네트워크의 IP 주소/서브넷 마스크를 추가하여 노드를 클라이언트 네트워크 또는 관리 네트워크에 추가할 수 있습니다.
* 클라이언트 네트워크 또는 관리 네트워크에서 해당 네트워크의 노드에 대한 IP 주소/서브넷 마스크를 삭제하여 노드를 제거할 수 있습니다.
+
그리드 네트워크에서 노드를 제거할 수 없습니다.




NOTE: IP 주소 교체는 허용되지 않습니다. 그리드 노드 간에 IP 주소를 교환해야 하는 경우 임시 중간 IP 주소를 사용해야 합니다.


NOTE: StorageGRID 시스템에 SSO(Single Sign-On)가 활성화되어 있고 관리자 노드의 IP 주소를 변경하는 경우, 관리자 노드의 IP 주소(권장 사항에 따라 정규화된 도메인 이름 대신)를 사용하여 구성된 모든 기반 당사자 트러스트가 무효화됩니다. 더 이상 노드에 로그인할 수 없습니다. IP 주소를 변경한 직후 새 IP 주소를 사용하여 AD FS(Active Directory Federation Services)에서 노드의 기반 당사자 신뢰를 업데이트하거나 다시 구성해야 합니다. 의 지침을 link:../admin/configuring-sso.html["SSO를 구성하는 중입니다"]참조하십시오.


NOTE: Change IP(IP 변경) 도구를 사용하여 네트워크를 변경하면 StorageGRID 어플라이언스의 설치 관리자 펌웨어로 전파됩니다. 이렇게 하면 어플라이언스에 StorageGRID 소프트웨어를 재설치하거나 어플라이언스를 유지 관리 모드로 설정한 경우 네트워킹 구성이 올바릅니다.

.단계
. 기본 관리자 노드에 로그인합니다.
+
.. 다음 명령을 입력합니다. `ssh admin@_primary_Admin_Node_IP_`
.. 파일에 나열된 암호를 `Passwords.txt` 입력합니다.
.. 다음 명령을 입력하여 루트로 전환합니다. `su -`
.. 파일에 나열된 암호를 `Passwords.txt` 입력합니다.


+
루트로 로그인하면 프롬프트가 에서 `$` 로 `#`변경됩니다.

. 다음 명령을 입력하여 IP 변경 도구를 시작합니다. `change-ip`
. 프롬프트에 프로비저닝 암호를 입력합니다.
+
기본 메뉴가 나타납니다.

+
image::../media/change_ip_tool_main_menu.png[IP 변경 도구의 시작 화면을 보여 주는 스크린샷]

. 필요에 따라 * 1 * 을 선택하여 업데이트할 노드를 선택합니다. 그런 다음 다음 다음 옵션 중 하나를 선택합니다.
+
** * 1 *: 단일 노드 -- 이름별로 선택합니다
** * 2 *: 단일 노드 -- 사이트별로 선택한 다음 이름별로 선택합니다
** * 3 *: 단일 노드 -- 현재 IP로 선택합니다
** * 4 *: 사이트의 모든 노드
** * 5 *: 그리드의 모든 노드
+
* 참고: * 모든 노드를 업데이트하려면 "모두"가 선택된 상태로 유지되도록 하십시오.



+
선택한 후 기본 메뉴가 나타나고 * Selected Nodes * 필드가 업데이트되어 선택 사항을 반영합니다. 이후의 모든 작업은 표시된 노드에서만 수행됩니다.

. 메인 메뉴에서 옵션 * 2 * 를 선택하여 선택한 노드의 IP/마스크, 게이트웨이 및 MTU 정보를 편집합니다.
+
.. 변경할 네트워크를 선택합니다.
+
--
*** * 1 *: 그리드 네트워크
*** * 2 *: 관리 네트워크
*** * 3 *: 클라이언트 네트워크
*** * 4 * : 모든 네트워크


--
+
--
선택한 후 프롬프트에 노드 이름, 네트워크 이름(그리드, 관리 또는 클라이언트), 데이터 유형(IP/마스크, 게이트웨이 또는 MTU)와 현재 값

DHCP 구성 인터페이스의 IP 주소, 접두사 길이, 게이트웨이 또는 MTU를 편집하면 인터페이스가 정적 인터페이스로 변경됩니다. DHCP에서 구성한 인터페이스를 변경하도록 선택하면 인터페이스가 static으로 변경됨을 알리는 경고가 표시됩니다.

로 구성된 인터페이스는 `fixed` 편집할 수 없습니다.

--
.. 새 값을 설정하려면 현재 값에 대해 표시된 형식으로 입력합니다.
.. 현재 값을 변경하지 않고 그대로 두려면 * Enter * 를 누릅니다.
.. 데이터 형식이 인 경우 `IP/mask` * d * 또는 * 0.0.0.0/0 * 을 입력하여 노드에서 관리 또는 클라이언트 네트워크를 삭제할 수 있습니다.
.. 변경할 모든 노드를 편집한 후 * q * 를 입력하여 기본 메뉴로 돌아갑니다.
+
변경 내용은 지워지거나 적용될 때까지 유지됩니다.



. 다음 옵션 중 하나를 선택하여 변경 사항을 검토합니다.
+
** * 5 *: 변경된 항목만 표시하도록 격리된 출력의 편집 내용을 표시합니다. 변경 사항은 예제 출력에 표시된 대로 녹색(추가) 또는 빨간색(삭제)으로 강조 표시됩니다.
+
image::../media/change_ip_tool_edit_ip_mask_sample_output.png[주변 텍스트로 설명된 스크린샷]

** * 6 *: 전체 구성을 표시하는 출력의 편집 내용을 표시합니다. 변경 사항은 녹색(추가) 또는 빨간색(삭제)으로 강조 표시됩니다.
+

NOTE: 특정 명령줄 인터페이스에서는 취소선 서식을 사용하여 추가 및 삭제를 표시할 수 있습니다. 올바른 표시는 필요한 VT100 이스케이프 시퀀스를 지원하는 터미널 클라이언트에 따라 다릅니다.



. 옵션 * 7 * 을 선택하여 모든 변경 사항을 확인합니다.
+
이러한 검증을 통해 그리드, 관리자 및 클라이언트 네트워크에 대한 규칙(예: 중복되는 서브넷 사용 안 함)이 위반되지 않도록 합니다.

+
이 예제에서는 유효성 검사에서 오류가 반환되었습니다.

+
image::../media/change_ip_tool_validate_sample_error_messages.gif[주변 텍스트로 설명된 스크린샷]

+
이 예제에서는 유효성 검사가 통과되었습니다.

+
image::../media/change_ip_tool_validate_sample_passed_messages.gif[주변 텍스트로 설명된 스크린샷]

. 유효성 검사를 통과한 후 다음 옵션 중 하나를 선택합니다.
+
** * 8 *: 적용되지 않은 변경 사항을 저장합니다.
+
이 옵션을 사용하면 적용되지 않은 변경 내용을 유지하면서 IP 변경 도구를 종료하고 나중에 다시 시작할 수 있습니다.

** * 10 *: 새 네트워크 구성을 적용합니다.


. 옵션 * 10 * 을 선택한 경우 다음 옵션 중 하나를 선택합니다.
+
** * 적용 *: 변경 사항을 즉시 적용하고 필요한 경우 각 노드를 자동으로 다시 시작합니다.
+
새 네트워크 구성에 물리적 네트워크 변경이 필요하지 않은 경우 * apply * 를 선택하여 변경 사항을 즉시 적용할 수 있습니다. 필요한 경우 노드가 자동으로 재시작됩니다. 다시 시작해야 하는 노드가 표시됩니다.

** * stage *: 다음에 노드를 수동으로 재시작할 때 변경 사항을 적용합니다.
+
새 네트워크 구성을 작동하기 위해 물리적 또는 가상 네트워킹 구성을 변경해야 하는 경우 * stage * 옵션을 사용하고, 영향을 받는 노드를 종료하고, 필요한 물리적 네트워킹 변경을 수행하고, 영향을 받는 노드를 다시 시작해야 합니다. 이러한 네트워킹 변경을 먼저 수행하지 않고 * 적용 * 을 선택하면 변경 사항이 대개 실패합니다.

+

NOTE: stage * 옵션을 사용하는 경우 중단을 최소화하려면 스테이징 후 가능한 한 빨리 노드를 다시 시작해야 합니다.

** * 취소 *: 현재 네트워크를 변경하지 마십시오.
+
제안된 변경에 따라 노드를 다시 시작해야 한다는 사실을 모르는 경우 변경 사항을 연기하여 사용자에게 미치는 영향을 최소화할 수 있습니다. 취소 * 를 선택하면 기본 메뉴로 돌아가고 변경 내용을 보존하여 나중에 적용할 수 있습니다.

+
APPLY * 또는 * stage * 를 선택하면 새 네트워크 구성 파일이 생성되고, 프로비저닝이 수행되고, 노드가 새 작업 정보로 업데이트됩니다.

+
프로비저닝 중, 업데이트 적용 시 출력에 상태가 표시됩니다.

+
[listing]
----
Generating new grid networking description file...

Running provisioning...

Updating grid network configuration on Name
----


+
변경 사항을 적용하거나 스테이징하면 그리드 구성 변경의 결과로 새 복구 패키지가 생성됩니다.

. 스테이지 * 를 선택한 경우 프로비저닝이 완료된 후 다음 단계를 따르십시오.
+
.. 필요한 물리적 또는 가상 네트워킹을 변경합니다.
+
* 물리적 네트워킹 변경 *: 필요한 경우 노드를 안전하게 종료하면서 필요한 물리적 네트워킹을 변경합니다.

+
*Linux*: 처음 노드를 관리 네트워크 또는 클라이언트 네트워크에 추가하는 경우 에 설명된 대로 인터페이스를 추가했는지 link:linux-adding-interfaces-to-existing-node.html["Linux: 기존 노드에 인터페이스를 추가합니다"]확인합니다.

.. 영향을 받는 노드를 다시 시작합니다.


. 변경이 완료된 후 IP 변경 도구를 종료하려면 * 0 * 을 선택합니다.
. Grid Manager에서 새 복구 패키지를 다운로드합니다.
+
.. 유지보수 * > * 시스템 * > * 복구 패키지 * 를 선택합니다.
.. 프로비저닝 암호를 입력합니다.



