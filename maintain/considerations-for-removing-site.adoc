---
permalink: maintain/considerations-for-removing-site.html 
sidebar: sidebar 
keywords: how to remove site 
summary: 사이트 서비스 해제 절차를 사용하여 사이트를 제거하기 전에 고려 사항을 검토해야 합니다. 
---
= 사이트 제거 고려 사항
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
사이트 서비스 해제 절차를 사용하여 사이트를 제거하기 전에 고려 사항을 검토해야 합니다.



== 사이트 서비스 해제 시 수행되는 작업

사이트를 서비스 해제할 경우 StorageGRID는 사이트의 모든 노드를 영구적으로 제거하고 StorageGRID 시스템에서 사이트 자체를 제거합니다.

사이트 서비스 해제 절차가 완료되면 다음을 수행합니다.

* 더 이상 StorageGRID를 사용하여 사이트의 사이트 또는 노드를 보거나 액세스할 수 없습니다.
* 사이트를 참조하는 스토리지 풀이나 삭제 코딩 프로필을 더 이상 사용할 수 없습니다. StorageGRID에서 사이트를 압축 해제하면 이러한 스토리지 풀이 자동으로 제거되고 이러한 삭제 코딩 프로필이 비활성화됩니다.




== 연결된 사이트와 분리된 사이트 파기 절차의 차이점

사이트 서비스 해제 절차를 사용하여 모든 노드가 StorageGRID에 연결된 사이트(연결된 사이트 서비스 해제라고 함)를 제거하거나 모든 노드가 StorageGRID에서 분리된 사이트(연결이 끊긴 사이트 서비스 해제라고 함)를 제거할 수 있습니다. 시작하기 전에 이러한 절차 간의 차이점을 이해해야 합니다.


NOTE: 사이트에 연결된 노드()와 연결되지 않은 노드(image:../media/icon_alarm_gray_administratively_down.png["아이콘 알람 회색(관리자 아래"]또는image:../media/icon_alarm_blue_unknown.png["아이콘 경보 파란색 알 수 없음"])가 혼합되어 있는 경우image:../media/icon_alert_green_checkmark.png["아이콘 경고 녹색 확인 표시"] 모든 오프라인 노드를 다시 온라인 상태로 전환해야 합니다.

* 연결된 사이트 파기를 사용하면 StorageGRID 시스템에서 운영 사이트를 제거할 수 있습니다. 예를 들어, 연결된 사이트 파기를 수행하여 더 이상 필요하지 않은 사이트를 제거할 수 있습니다.
* StorageGRID에서 연결된 사이트를 제거하면 ILM을 사용하여 사이트의 개체 데이터를 관리합니다. 연결된 사이트 서비스 해제를 시작하려면 먼저 모든 ILM 규칙에서 사이트를 제거하고 새 ILM 정책을 활성화해야 합니다. ILM 프로세스를 통해 개체 데이터를 마이그레이션하고 사이트 제거를 위한 내부 프로세스를 동시에 수행할 수 있지만, 실제 서비스 해제 절차를 시작하기 전에 ILM 단계를 완료할 수 있는 것이 가장 좋습니다.
* 연결이 끊어진 사이트 파기를 사용하면 장애가 발생한 사이트를 StorageGRID 시스템에서 제거할 수 있습니다. 예를 들어, 분리된 사이트 파기를 수행하여 화재나 홍수로 인해 파괴된 사이트를 제거할 수 있습니다.
+
StorageGRID가 연결이 끊긴 사이트를 제거하면 모든 노드를 복구할 수 없다고 간주되어 데이터 보존을 시도하지 않습니다. 그러나 연결이 끊긴 사이트 해제를 시작하려면 먼저 모든 ILM 규칙에서 사이트를 제거하고 새 ILM 정책을 활성화해야 합니다.

+

CAUTION: 연결이 끊긴 사이트 서비스 해제 절차를 수행하기 전에 NetApp 어카운트 담당자에게 문의하십시오. NetApp은 서비스 해제 사이트 마법사의 모든 단계를 활성화하기 전에 요구사항을 검토합니다. 연결이 끊긴 사이트 서비스 해제를 시도해서는 안 됩니다. 사이트를 복구하거나 사이트에서 오브젝트 데이터를 복구할 수 있다고 생각되면 사이트 서비스 해제를 시도해서는 안 됩니다.





== 연결된 사이트 또는 분리된 사이트 제거에 대한 일반 요구 사항

연결 또는 분리된 사이트를 제거하기 전에 다음 요구 사항을 숙지해야 합니다.

* 기본 관리 노드를 포함하는 사이트는 서비스 해제할 수 없습니다.
* HA(고가용성) 그룹에 속한 인터페이스가 있는 노드는 사이트 서비스를 해제할 수 없습니다. 노드의 인터페이스를 제거하거나 전체 HA 그룹을 제거하려면 HA 그룹을 편집해야 합니다.
* 연결된() 노드와 연결되지 않은(image:../media/icon_alarm_blue_unknown.png["아이콘 경보 파란색 알 수 없음"]또는image:../media/icon_alarm_gray_administratively_down.png["아이콘 알람 회색(관리자 아래"]) 노드가 혼합되어 있는 경우 사이트를 해제할 수image:../media/icon_alert_green_checkmark.png["아이콘 경고 녹색 확인 표시"] 없습니다.
* 다른 사이트의 노드 연결이 끊긴 경우(또는image:../media/icon_alarm_gray_administratively_down.png["아이콘 알람 회색(관리자 아래"]) 사이트를 서비스 해제할 수image:../media/icon_alarm_blue_unknown.png["아이콘 경보 파란색 알 수 없음"] 없습니다.
* EC 노드 복구 작업이 진행 중인 경우에는 사이트 서비스 해제 절차를 시작할 수 없습니다. 삭제 코딩 데이터의 복구를 추적하려면 을 참조하십시오.link:checking-data-repair-jobs.html["데이터 복구 작업을 확인합니다"]
* 사이트 서비스 해제 절차가 실행되는 동안 다음을 수행합니다.
+
** 폐기되는 사이트를 참조하는 ILM 규칙을 생성할 수 없습니다. 사이트를 참조하기 위해 기존 ILM 규칙을 편집할 수도 없습니다.
** 확장 또는 업그레이드와 같은 다른 유지보수 절차는 수행할 수 없습니다.
+

NOTE: 연결된 사이트 사용 중단 중에 다른 유지 보수 절차를 link:pausing-and-resuming-decommission-process-for-storage-nodes.html["스토리지 노드를 제거하는 동안 절차를 일시 중지합니다"]수행해야 하는 경우 다음을 수행할 수 있습니다. ILM 평가 또는 삭제 코딩 데이터 사용 중단 단계에 도달한 경우에만 * 일시 중지 * 버튼이 활성화됩니다. 그러나 ILM 평가(데이터 마이그레이션)는 백그라운드에서 계속 실행됩니다. 두 번째 유지 보수 절차가 완료되면 서비스 해제를 재개할 수 있습니다.

** 사이트 서비스 해제 절차를 시작한 후 노드를 복구해야 하는 경우 지원 팀에 문의해야 합니다.


* 한 번에 두 개 이상의 사이트를 해제할 수 없습니다.
* 사이트에 하나 이상의 관리 노드가 포함되어 있고 StorageGRID 시스템에 대해 SSO(Single Sign-On)가 활성화되어 있는 경우 AD FS(Active Directory Federation Services)에서 사이트에 대한 모든 신뢰할 수 있는 상대 트러스트를 제거해야 합니다.




== ILM(정보 수명 주기 관리)에 대한 요구 사항

사이트를 제거하는 과정에서 ILM 구성을 업데이트해야 합니다. 서비스 해제 사이트 마법사는 다음을 보장하기 위한 여러 필수 단계를 안내합니다.

* 이 사이트는 ILM 정책에서 참조되지 않습니다. 정책이 있는 경우, 정책을 편집하거나 새로운 ILM 규칙을 사용하여 정책을 생성하고 활성화해야 합니다.
* ILM 규칙은 정책에 사용되지 않더라도 사이트를 참조하지 않습니다. 사이트를 참조하는 모든 규칙을 삭제하거나 편집해야 합니다.


StorageGRID에서 사이트를 압축 해제하면 사이트를 참조하는 사용하지 않는 삭제 코딩 프로필이 자동으로 비활성화되고 사이트를 참조하는 미사용 스토리지 풀이 자동으로 삭제됩니다. 모든 스토리지 노드 스토리지 풀(StorageGRID 11.6 이하)이 있는 경우 모든 사이트를 사용하므로 이 스토리지 풀은 제거됩니다.


CAUTION: 사이트를 제거하기 전에 새 ILM 규칙을 생성하고 새 ILM 정책을 활성화해야 할 수 있습니다. 이 지침에서는 ILM의 작동 방식을 잘 이해하고 있으며 스토리지 풀 생성, 삭제 코딩 프로필, ILM 규칙 및 ILM 정책을 시뮬레이션하고 활성화하는 데 익숙하다고 가정합니다. 을 link:../ilm/index.html["ILM을 사용하여 개체를 관리합니다"]참조하십시오.



== 연결된 사이트의 개체 데이터에 대한 고려 사항

연결된 사이트 파기를 수행하는 경우 새 ILM 규칙 및 새 ILM 정책을 생성할 때 사이트에서 기존 오브젝트 데이터를 사용하여 수행할 작업을 결정해야 합니다. 다음 중 하나 또는 모두를 수행할 수 있습니다.

* 선택한 사이트에서 눈금의 다른 사이트 하나 이상으로 개체 데이터를 이동합니다.
+
* 데이터 이동의 예 *: 서니베일에 새 사이트를 추가했기 때문에 Raleigh에서 사이트의 운영을 중단한다고 가정합니다. 이 예제에서는 모든 개체 데이터를 이전 사이트에서 새 사이트로 이동하려고 합니다. ILM 규칙 및 ILM 정책을 업데이트하기 전에 두 사이트에서 용량을 검토해야 합니다. Saleigh 사이트의 오브젝트 데이터를 수용할 수 있는 충분한 용량이 Sunnyvale 사이트에 있는지, 그리고 향후 성장을 위해 적절한 용량이 Sunnyvale에 남아 있는지 확인해야 합니다.

+

NOTE: 적절한 용량을 사용할 수 있도록 하려면 이 절차를 수행하기 전에 스토리지 볼륨 또는 스토리지 노드를 기존 사이트에 추가하거나 새 사이트를 추가해야 할 수 link:../expand/index.html["그리드를 확장합니다"]있습니다.

* 선택한 사이트에서 개체 복사본을 삭제합니다.
+
* 데이터 삭제 예 *: 현재 3개 복사본 ILM 규칙을 사용하여 3개 사이트 간에 오브젝트 데이터를 복제한다고 가정합니다. 사이트를 폐기하기 전에 2개 복사본 ILM 규칙을 생성하여 단 2개의 사이트에 데이터를 저장할 수 있습니다. 2-copy 규칙을 사용하는 새로운 ILM 정책을 활성화하면 StorageGRID은 해당 복사본이 더 이상 ILM 요구사항을 충족하지 않기 때문에 세 번째 사이트에서 삭제됩니다. 그러나 개체 데이터는 계속 보호되고 나머지 두 사이트의 용량은 동일하게 유지됩니다.

+

CAUTION: 사이트 제거를 수용하기 위해 단일 복사본 ILM 규칙을 만들지 마십시오. 특정 기간 동안 복제된 복사본을 하나만 생성하는 ILM 규칙은 데이터가 영구적으로 손실될 위험이 있습니다. 복제된 객체 복제본이 하나만 있는 경우 스토리지 노드에 장애가 발생하거나 심각한 오류가 발생한 경우 해당 객체가 손실됩니다. 또한 업그레이드와 같은 유지보수 절차 중에는 개체에 대한 액세스가 일시적으로 중단됩니다.





== 연결된 사이트 파기 추가 요구 사항

StorageGRID에서 연결된 사이트를 제거하려면 먼저 다음 사항을 확인해야 합니다.

* StorageGRID 시스템의 모든 노드의 연결 상태는 * Connected * ()여야image:../media/icon_alert_green_checkmark.png["아이콘 경고 녹색 확인 표시"] 하지만 노드에 활성 경고가 있을 수 있습니다.
+

NOTE: 하나 이상의 노드의 연결이 끊어진 경우 사이트 서비스 해제 마법사의 1-4단계를 완료할 수 있습니다. 그러나 마법사의 5단계를 완료할 수 없습니다. 그러면 모든 노드가 연결되어 있지 않으면 서비스 해제 프로세스가 시작됩니다.

* 제거하려는 사이트에 로드 밸런싱에 사용되는 게이트웨이 노드 또는 관리자 노드가 포함된 경우 다른 사이트에 해당하는 새 노드를 추가해야 할 수 link:../expand/index.html["그리드를 확장합니다"]있습니다. 사이트 서비스 해제 절차를 시작하기 전에 클라이언트가 교체 노드에 연결할 수 있는지 확인하십시오.
* 제거하려는 사이트에 고가용성(HA) 그룹에 있는 게이트웨이 노드 또는 관리 노드가 있는 경우 사이트 서비스 해제 마법사의 1-4단계를 완료할 수 있습니다. 하지만 모든 HA 그룹에서 이러한 노드를 제거할 때까지 마법사의 5단계를 완료할 수 없습니다. 기존 클라이언트가 사이트의 노드가 포함된 HA 그룹에 연결할 경우 사이트가 제거된 후에도 StorageGRID에 계속 연결할 수 있는지 확인해야 합니다.
* 제거할 사이트의 스토리지 노드에 클라이언트가 직접 연결하는 경우 사이트 서비스 해제 절차를 시작하기 전에 클라이언트가 다른 사이트의 스토리지 노드에 연결할 수 있는지 확인해야 합니다.
* 활성 ILM 정책의 변경으로 인해 이동할 모든 객체 데이터를 수용할 수 있도록 나머지 사이트에 충분한 공간을 제공해야 합니다. 경우에 따라 link:../expand/index.html["그리드를 확장합니다"]스토리지 노드, 스토리지 볼륨 또는 새 사이트를 추가하여 연결된 사이트 폐기를 완료할 수 있습니다.
* 서비스 해제 절차를 완료하려면 적절한 시간이 필요합니다. StorageGRID ILM 프로세스를 사이트에 대한 서비스 중단 전에 사이트의 오브젝트 데이터를 이동하거나 삭제하는 데 며칠, 몇 주 또는 몇 달이 걸릴 수 있습니다.
+

NOTE: 사이트에서 오브젝트 데이터를 이동하거나 삭제하는 경우 사이트의 데이터 양, 시스템의 로드, 네트워크 지연 시간, 필요한 ILM의 특성 등에 따라 며칠, 몇 주 또는 몇 개월이 걸릴 수 있습니다.

* 가능한 한 빨리 서비스 해제 사이트 마법사의 1-4단계를 완료해야 합니다. 서비스 해제 절차는 실제 서비스 해제 절차를 시작하기 전에 사이트에서 데이터를 이동할 수 있도록 허용하면 더 빠르고 운영 중단과 성능에 미치는 영향이 줄어듭니다(마법사의 5단계에서 * 서비스 해제 시작 * 선택).




== 연결이 끊긴 사이트 폐기에 대한 추가 요구 사항

StorageGRID에서 분리된 사이트를 제거하려면 먼저 다음을 확인해야 합니다.

* NetApp 어카운트 담당자에게 문의했습니다. NetApp은 서비스 해제 사이트 마법사의 모든 단계를 활성화하기 전에 요구사항을 검토합니다.
+

CAUTION: 연결이 끊긴 사이트 서비스 해제를 시도해서는 안 됩니다. 이 경우 사이트를 복구하거나 사이트에서 오브젝트 데이터를 복구할 수 있다고 판단됩니다. 을 link:how-site-recovery-is-performed-by-technical-support.html["기술 지원 부서에서 사이트를 복구하는 방법"]참조하십시오.

* 사이트의 모든 노드에는 다음 중 하나의 연결 상태가 있어야 합니다.
+
** *알 수 없음*(image:../media/icon_alarm_blue_unknown.png["아이콘 경보 파란색 알 수 없음"]): 알 수 없는 이유로 노드 연결이 끊기거나 노드의 서비스가 예기치 않게 다운됩니다. 예를 들어, 노드의 서비스가 중지되거나 전원 장애 또는 예기치 않은 정전으로 인해 노드의 네트워크 연결이 끊겼을 수 있습니다.
** *Administratively Down*(image:../media/icon_alarm_gray_administratively_down.png["아이콘 알람 회색(관리자 아래"]): 노드가 예상된 이유로 그리드에 연결되지 않았습니다. 예를 들어, 노드의 노드 또는 서비스가 정상적으로 종료되었습니다.


* 다른 모든 사이트의 모든 노드는 연결 상태 * Connected *()여야image:../media/icon_alert_green_checkmark.png["아이콘 경고 녹색 확인 표시"] 하지만 이러한 다른 노드는 활성 알림을 가질 수 있습니다.
* StorageGRID를 사용하여 사이트에 저장된 개체 데이터를 더 이상 보거나 검색할 수 없다는 점을 이해해야 합니다. StorageGRID에서 이 절차를 수행할 때 연결이 끊긴 사이트의 데이터를 보존하려고 시도하지 않습니다.
+

NOTE: ILM 규칙 및 정책이 단일 사이트의 손실로부터 보호되도록 설계된 경우 남아 있는 개체에 대한 복사본이 유지됩니다.

* 사이트에 개체의 복사본만 포함되어 있으면 개체가 손실되어 검색할 수 없다는 것을 이해해야 합니다.




== 사이트를 제거할 때의 일관성 고려 사항

S3 버킷의 일관성은 오브젝트 수집이 성공적임을 클라이언트에 알리기 전에 StorageGRID가 오브젝트 메타데이터를 모든 노드 및 사이트에 완전히 복제하는지 여부를 결정합니다. 정합성 보장은 서로 다른 스토리지 노드 및 사이트에서 객체의 가용성과 객체 일관성 간의 균형을 제공합니다.

StorageGRID에서 사이트를 제거할 때는 제거할 사이트에 데이터가 기록되지 않도록 해야 합니다. 따라서 각 버킷 또는 컨테이너의 일관성을 일시적으로 재정의합니다. 사이트 서비스 해제 프로세스를 시작한 후 StorageGRID에서는 강력한 사이트 정합성을 일시적으로 사용하여 개체 메타데이터가 사이트에 기록되지 않도록 합니다.

이 임시 재정의의 결과로, 사이트 서비스 해제 중에 발생하는 모든 클라이언트 쓰기, 업데이트 및 삭제 작업은 나머지 사이트에서 여러 노드를 사용할 수 없게 될 경우 실패할 수 있습니다.
