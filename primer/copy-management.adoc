---
permalink: primer/copy-management.html 
sidebar: sidebar 
keywords: StorageGRID, object data, ilm policy, ilm rules, replicated copy, replication, erasure-coded copy, ec, cloud storage pool 
summary: 개체 데이터는 활성 ILM 정책 및 해당 ILM 규칙에 의해 관리됩니다. ILM 규칙은 복제된 복사본 또는 삭제 코딩 복사본을 만들어 오브젝트 데이터의 손실을 방지합니다. 
---
= StorageGRID에서 객체 복사본을 관리하는 방법
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
오브젝트 데이터는 활성 ILM 정책 및 관련 ILM 규칙에 따라 관리됩니다. ILM 규칙은 복제된 복사본 또는 삭제 코딩 복사본을 만들어 오브젝트 데이터의 손실을 방지합니다.

오브젝트 복사본의 다양한 유형 또는 위치는 오브젝트의 수명 동안 서로 다른 시간에 필요할 수 있습니다. ILM 규칙은 주기적으로 평가하여 개체가 필요에 따라 배치되도록 합니다.

개체 데이터는 LDR 서비스에서 관리합니다.



== 컨텐츠 보호: 복제

ILM 규칙의 콘텐츠 배치 지침에 따라 오브젝트 데이터의 복제된 복사본이 필요한 경우 복사본은 구성된 스토리지 풀을 구성하는 스토리지 노드에 의해 만들어지면 디스크에 저장됩니다.

LDR 서비스의 ILM 엔진은 복제를 제어하고 올바른 위치에 올바른 복제본 수를 올바른 시간 동안 저장합니다.

image::../media/replication_data_flow.png[주변 텍스트에 설명된 프로세스를 보여 주는 다이어그램]

. ILM 엔진은 ADC 서비스를 쿼리하여 ILM 규칙에 지정된 스토리지 풀 내에서 최상의 대상 LDR 서비스를 결정합니다. 그런 다음 LDR 서비스에 복제를 시작하는 명령을 보냅니다.
. 대상 LDR 서비스는 ADC 서비스에 최상의 소스 위치를 쿼리합니다. 그런 다음 복제 요청을 소스 LDR 서비스로 보냅니다.
. 소스 LDR 서비스는 대상 LDR 서비스에 복사본을 보냅니다.
. 대상 LDR 서비스는 ILM 엔진에 개체 데이터가 저장되었음을 알립니다.
. ILM 엔진은 메타데이터 저장소를 개체 위치 메타데이터로 업데이트합니다.




== 콘텐츠 보호: 삭제 코딩

ILM 규칙에 오브젝트 데이터의 삭제 코딩 복사본을 만드는 지침이 포함된 경우 해당 삭제 코딩 체계에서 오브젝트 데이터를 데이터 및 패리티 조각으로 분할하고 이러한 조각을 삭제 코딩 프로필에 구성된 스토리지 노드에 분산합니다.

LDR 서비스의 구성 요소인 ILM 엔진은 삭제 코딩을 제어하고 삭제 코딩 프로필이 오브젝트 데이터에 적용되도록 합니다.

image::../media/erasure_coding_data_flow.png[삭제 코딩 데이터 흐름]

. ILM 엔진은 ADC 서비스에 쿼리하여 삭제 코딩 작업을 가장 잘 수행할 수 있는 DDS 서비스를 결정합니다. 결정되면 ILM 엔진이 해당 서비스에 "시작" 요청을 보냅니다.
. DDS 서비스는 LDR에 오브젝트 데이터를 삭제 코딩하도록 지시합니다.
. 소스 LDR 서비스는 삭제 코딩을 위해 선택된 LDR 서비스에 복사본을 보냅니다.
. 적절한 수의 패리티 및 데이터 조각을 생성한 후 LDR 서비스는 삭제 코딩 프로파일의 스토리지 풀을 구성하는 스토리지 노드(청크 서비스)에 이러한 조각을 분산합니다.
. LDR 서비스는 ILM 엔진에 개체 데이터가 성공적으로 배포되었는지 확인하여 이를 알립니다.
. ILM 엔진은 메타데이터 저장소를 개체 위치 메타데이터로 업데이트합니다.




== 콘텐츠 보호: 클라우드 스토리지 풀

ILM 규칙의 콘텐츠 배치 명령에 따라 오브젝트 데이터의 복제된 복사본이 Cloud Storage Pool에 저장되어야 하는 경우 오브젝트 데이터는 Cloud Storage Pool에 지정된 외부 S3 버킷 또는 Azure Blob 스토리지 컨테이너에 복제됩니다.

LDR 서비스의 구성 요소인 ILM 엔진 및 Data Mover 서비스는 클라우드 스토리지 풀에 대한 객체 이동을 제어합니다.

image::../media/cloud_storage_pool_data_flow.png[클라우드 스토리지 풀 데이터 흐름]

. ILM 엔진은 Data Mover 서비스를 선택하여 Cloud Storage Pool에 복제합니다.
. Data Mover 서비스는 객체 데이터를 클라우드 스토리지 풀로 보냅니다.
. Data Mover 서비스는 ILM 엔진에 개체 데이터가 저장되었음을 알립니다.
. ILM 엔진은 메타데이터 저장소를 개체 위치 메타데이터로 업데이트합니다.

